<!DOCTYPE html>

<html>
    
<%- include ('../partials/head') %>  

  <body >
    
<%- include ('../partials/header') %>



    <main id="formCuerpo">
      <% if (locals.errors) { %>
        <% for (let oneError in errors ) { %>
          <p> <%= errors[oneError].msg %></p> <!-- aca imprime todos los errores si es que existen -->
         <% } %>
      <% } %> 

        <form id="formulario" action="/users/register" method="POST" id="regis" enctype="multipart/form-data">
          <h2 id="tituloCreacion"> Registro de cuenta </h2>
          <div>
            <label for="nombre_completo"> Nombre completo: </label>
            <input 
            type="text" 
            name="nombre_completo" 
            id="nombre completo" 
            class="llenar" 
            class="form-control <%= locals.errors && errors.nombre_completo ? 'is-invalid' : null %>"
            value= "<%= locals.oldData ? oldData.nombre_completo : null%>">
            <% if (locals.errors && errors.nombre_completo) { %>
              <div class="text-error"> 
                <%= errors.nombre_completo.msg %>
              </div>
            <% } %>
          </div>
          <br>
          <div>
            <label for="email"> Email: </label>
            <input type="text" 
            name="email" 
            id="email" 
            class="llenar"
            class="form-control <%= locals.errors && errors.email ? 'is-invalid' : null %>"
            value= "<%= locals.oldData ? oldData.email : null%>">
            <% if (locals.errors && errors.email) { %>
              <div class="text-error"> 
                <%= errors.email.msg %>
              </div>
            <% } %>
          </div>
          <br>
          <div>
            <p> Fecha de Nacimiento: 
            <input type="date" 
            min="1940-01-01" 
            name="fecha" 
            value="2000-01-01" 
            class="llenar"
            class="form-control <%= locals.errors && errors.fecha ? 'is-invalid' : null %>"
            value= "<%= locals.oldData ? oldData.fecha : null%>"></p>
            <% if (locals.errors && errors.fecha) { %>
              <div class="text-error"> 
                <%= errors.fecha.msg %>
              </div>
            <% } %>
          </div>
          <br>
          <div>
            <label for="domicilio"> Domicilio: </label>
            <input type="text" 
            name="domicilio" 
            id="domicilio" 
            class="llenar"
            class="form-control <%= locals.errors && errors.domicilio ? 'is-invalid' : null %>"
            value= "<%= locals.oldData ? oldData.domicilio : null%>">
            <% if (locals.errors && errors.domicilio) { %>
              <div class="text-error"> 
                <%= errors.domicilio.msg %>
              </div>
            <% } %>
          </div>
          <br>
          <div>
            <p>Preferencias: 
            <select name="perfil"> 
              <option value="Productos">Productos</option>
              <option value="Servicios">Servicios</option>
            </select></p>
          </div>
          <br>
          <div>
            <label for="interes"> Categorías de Interes: 
                <input type="checkbox" name="Accesorios"> Accesorios
                <input type="checkbox" name="Respuestos"> Respuestos Medicos
                <input type="checkbox" name="Soporte"> Soportes 
                <input type="checkbox" name="Ortopedicos"> Productos Ortopedicos            
            </label>
          </div>
          <br>
          <div>
            <label for="contraseña"> Ingrese Contraseña: </label>
            <input type="password" 
            name="contraseña" 
            id="contraseña" 
            class="llenar"
            class="form-control <%= locals.errors && errors.contraseña ? 'is-invalid' : null %>"
            value= "<%= locals.oldData ? oldData.contraseña : null%>">
            <% if (locals.errors && errors.contraseña) { %>
              <div class="text-error"> 
                <%= errors.contraseña.msg %>
              </div>
            <% } %>
          </div>
          <br>
          <div>
            <label for="confirmacion"> Confirme su Contraseña: </label>
            <input type="password" 
            name="confirmacion" 
            id= "confirmacion" 
            class="llenar"
            class="form-control <%= locals.errors && errors.confirmacion ? 'is-invalid' : null %>"
            value= "<%= locals.oldData ? oldData.confirmacion : null%>">
            <% if (locals.errors && errors.confirmacion) { %>
              <div class="text-error"> 
                <%= errors.confirmacion.msg %>
              </div>
            <% } %>
          </div>
          <br>
          <div >
            <input type="file" name="avatar" accept=".jpg" id="avatar">
            <% if (locals.errors && errors.avatar) { %>
              <div class="text-error"> 
                <%= errors.avatar.msg %>
              </div>
            <% } %>
          </div>
          <br>
          <div id="limpieza">
            <button type="reset" class="btn btn-danger"> Limpiar datos </button>
            <button type="submit" class="btn btn-primary"> Registar </button>

          </div> 
        </form>
            
    </main>
    
<%- include ('../partials/footer') %>
   
  </body>
</html>